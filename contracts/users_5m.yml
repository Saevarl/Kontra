# Auto-generated contract from Kontra Scout
# Source: data/users_5m.parquet
# Rows analyzed: 5,000,000
# Generated by Kontra Scout v0.1.0

name: users_5m_contract
description: Auto-generated from Scout profile

dataset: "data/users_5m.parquet"

rules:
  # Dataset: expecting at least 4,500,000 rows (90% of current)
  - name: min_rows
    params: { threshold: 4500000 }

  # user_id: 100% non-null
  - name: not_null
    params: { column: "user_id" }

  # user_id: 100% unique (primary key candidate)
  - name: unique
    params: { column: "user_id" }

  # user_id: detected type BIGINT
  - name: dtype
    params: { column: "user_id", type: "int64" }

  # email: detected type VARCHAR
  - name: dtype
    params: { column: "email", type: "utf8" }

  # status: 100% non-null
  - name: not_null
    params: { column: "status" }

  # status: low cardinality (6 values)
  - name: allowed_values
    params:
      column: "status"
      values: ["active", "archived", "inactive", "invalid", "pending", "unknown"]

  # status: detected type VARCHAR
  - name: dtype
    params: { column: "status", type: "utf8" }

  # country: 100% non-null
  - name: not_null
    params: { column: "country" }

  # country: detected type VARCHAR
  - name: dtype
    params: { column: "country", type: "utf8" }

  # signup_date: 100% non-null
  - name: not_null
    params: { column: "signup_date" }

  # signup_date: detected type DATE
  - name: dtype
    params: { column: "signup_date", type: "date" }

  # last_login: 100% non-null
  - name: not_null
    params: { column: "last_login" }

  # last_login: detected type TIMESTAMP
  - name: dtype
    params: { column: "last_login", type: "datetime" }

  # last_login: timestamp column, adjust max_age as needed
  - name: freshness
    params: { column: "last_login", max_age: "7d" }

  # age: 100% non-null
  - name: not_null
    params: { column: "age" }

  # age: detected type SMALLINT
  - name: dtype
    params: { column: "age", type: "int64" }

  # is_premium: 100% non-null
  - name: not_null
    params: { column: "is_premium" }

  # is_premium: low cardinality (2 values)
  - name: allowed_values
    params: { column: "is_premium", values: [false, true] }

  # is_premium: detected type BOOLEAN
  - name: dtype
    params: { column: "is_premium", type: "bool" }

  # balance: 100% non-null
  - name: not_null
    params: { column: "balance" }

  # balance: 100% unique (primary key candidate)
  - name: unique
    params: { column: "balance" }

  # balance: detected type DOUBLE
  - name: dtype
    params: { column: "balance", type: "float64" }

  # filler_001_int: 100% non-null
  - name: not_null
    params: { column: "filler_001_int" }

  # filler_001_int: detected type INTEGER
  - name: dtype
    params: { column: "filler_001_int", type: "int64" }

  # filler_002_float: 100% non-null
  - name: not_null
    params: { column: "filler_002_float" }

  # filler_002_float: detected type FLOAT
  - name: dtype
    params: { column: "filler_002_float", type: "float64" }

  # filler_003_str: 100% non-null
  - name: not_null
    params: { column: "filler_003_str" }

  # filler_003_str: 100% unique (primary key candidate)
  - name: unique
    params: { column: "filler_003_str" }

  # filler_003_str: detected type VARCHAR
  - name: dtype
    params: { column: "filler_003_str", type: "utf8" }

  # filler_004_bool: 100% non-null
  - name: not_null
    params: { column: "filler_004_bool" }

  # filler_004_bool: low cardinality (2 values)
  - name: allowed_values
    params: { column: "filler_004_bool", values: [false, true] }

  # filler_004_bool: detected type BOOLEAN
  - name: dtype
    params: { column: "filler_004_bool", type: "bool" }

  # filler_005_date: 100% non-null
  - name: not_null
    params: { column: "filler_005_date" }

  # filler_005_date: detected type DATE
  - name: dtype
    params: { column: "filler_005_date", type: "date" }

  # filler_006_datetime: 100% non-null
  - name: not_null
    params: { column: "filler_006_datetime" }

  # filler_006_datetime: detected type TIMESTAMP
  - name: dtype
    params: { column: "filler_006_datetime", type: "datetime" }

  # filler_007_int: 100% non-null
  - name: not_null
    params: { column: "filler_007_int" }

  # filler_007_int: detected type INTEGER
  - name: dtype
    params: { column: "filler_007_int", type: "int64" }

  # filler_008_float: 100% non-null
  - name: not_null
    params: { column: "filler_008_float" }

  # filler_008_float: detected type FLOAT
  - name: dtype
    params: { column: "filler_008_float", type: "float64" }

  # filler_009_str: 100% non-null
  - name: not_null
    params: { column: "filler_009_str" }

  # filler_009_str: 100% unique (primary key candidate)
  - name: unique
    params: { column: "filler_009_str" }

  # filler_009_str: detected type VARCHAR
  - name: dtype
    params: { column: "filler_009_str", type: "utf8" }

  # filler_010_bool: 100% non-null
  - name: not_null
    params: { column: "filler_010_bool" }

  # filler_010_bool: low cardinality (2 values)
  - name: allowed_values
    params: { column: "filler_010_bool", values: [false, true] }

  # filler_010_bool: detected type BOOLEAN
  - name: dtype
    params: { column: "filler_010_bool", type: "bool" }
